<app-main-page page="Balance">


  <div class="main">


    <div class="container">

      <!------ BALANCE -->
      <div class="balance">
        <div class="header">
          <h2>Total balance</h2>
          <div>
            <mat-icon class="currency">money</mat-icon>
            <span>{{ formatCurrency(userAccountData.currentBalance)  }} {{ currenc[0].currency }}</span>
          </div>
          <h2 id="account"><strong>ACCOUNT:</strong> {{ userAccountData.account }}</h2>
        </div>

        <div class="box-card">
          <div class="card" (click)="open()">
            <div>
              <img src="{{currenc[0].flag}}" width="60" height="60" alt="currency-flag" srcset="" >
              <span id="currency">{{ currenc[0].currency }}</span>
            </div>
            <span id="balance" >
              {{ formatCurrency(userAccountData.currentBalance)  }}
            </span>
          </div>
          <div class="card card-button" (click)="open()">
            <mat-icon>add_circle</mat-icon>
            <div>
              <h2>Open</h2>
              <p>Explore ways to spend, save and grow your money</p>
            </div>
          </div>
        </div>
      </div>

      <!-------- BALANCE END -->

      <div class="transactions">
        <div class="header">

          <div class="title">
            <h2>Transactions</h2>
          </div>

          <div class="form">
            <div>
              <button id="btn-search"><mat-icon>search</mat-icon></button>
              <input type="text" class="search" matInput placeholder="Digite seu filtro aqui" formControlName="input"
              (keyup)="filter($event)" #input >
            </div>
            <button id="btn-all">See all</button>
          </div>

        </div>

        <!---------- LIST OF  TRANSACTIONS  ------->

        <div class="content">
          <div class="list" *ngFor="let item of dataList">
            <div class="box">
              <div class="icon">
                <mat-icon *ngIf="item.tType === 'Credit' || item.tType === 'Deposit'" >add</mat-icon>
                <mat-icon *ngIf="item.tType === 'Debit'">arrow_upward</mat-icon>
              </div>
              <div class="date">
                <h2>{{ item.operator }}</h2>
                <span>{{ item.createdAt }}</span>
              </div>
              <div class="operation">
                <div class="mov">
                  <h3><span>B.BEFORE</span> {{ formatCurrency(item.balanceBefore)   }} {{ currenc[0].currency }}</h3>
                  <div class="amount">
                    <mat-icon id="credit" *ngIf="item.tType === 'Credit' || item.tType === 'Deposit'" >add</mat-icon>
                    <mat-icon id="debit" *ngIf="item.tType === 'Debit'" >remove</mat-icon>
                    <h1> {{ formatCurrency(item.amount)   }} {{ currenc[0].currency }}</h1>
                  </div>
                  <span><span>B.AFTER. </span> {{ formatCurrency(item.balanceAfter)   }} </span>
                  <div id="status">
                    <p>{{ item.status }}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>


      </div>


    </div>
  </div>

</app-main-page>
